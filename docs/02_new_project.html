<article class="doc-article">
<h1 id="新建项目">新建项目</h1>
<p>TransX
的新建项目向导采用分步式交互设计，帮助您快速完成项目的初始化配置。整个窗口界面清晰地划分为三个功能区域：</p>
<ol type="1">
<li><strong>顶部导引区</strong>：提供可视化的步骤导航，您可以通过点击步骤标识快速返回到之前的任何配置步骤，无需重新开始整个流程
<img src="./imgs/img2.png" /></li>
<li><strong>中间配置区</strong>：这是核心的交互区域，根据当前所处步骤展示相应的配置选项和参数设置界面</li>
<li><strong>底部操作区</strong>：提供流程控制按钮，您可以选择进入下一步继续配置，或者在配置完成后直接进入项目开始工作</li>
</ol>
<p>这种分步式的设计既保证了配置的完整性，又提供了足够的灵活性，让您可以随时调整之前的设置。</p>
<h2 id="1-项目选择">1 项目选择</h2>
<p><img src="./imgs/img3.png" /></p>
<p>项目选择是新建流程的第一步，这个页面的主要功能是帮助您定位 Xcode
项目并确定多语言文件的扫描范围。在这里，您需要选择 Xcode
项目的根目录，TransX 将基于此目录开始扫描和管理所有的
<code>.strings</code> 文件。</p>
<p>为了提供更精确的文件检索能力，该页面提供了两个重要的筛选选项：</p>
<h3 id="mag-搜索目录">🔍 搜索目录</h3>
<p>搜索目录功能允许您精确控制 TransX 扫描 <code>.strings</code>
文件的范围：</p>
<ul>
<li><p><strong>未选择任何目录（默认行为）</strong>：工具将从项目根目录开始，递归搜索整个项目结构中的所有
<code>.strings</code> 文件。这种方式适用于项目初次使用 TransX
或不确定本地化文件分布位置的场景。</p></li>
<li><p><strong>选择特定目录</strong>：如果您的项目结构清晰，本地化文件集中在某些特定目录中（例如
<code>Resources/Localizations</code>），您可以精确指定一个或多个目录。此时，工具将仅在这些指定目录及其子目录中搜索
<code>.strings</code>
文件，大大提高扫描效率，避免扫描不必要的路径。</p></li>
</ul>
<p>这种选择性扫描机制在大型项目中尤其有用，可以显著减少扫描时间，并避免误扫描第三方库或临时文件中的
<code>.strings</code> 文件。</p>
<h3 id="no_entry_sign-忽略目录">🚫 忽略目录</h3>
<p>忽略目录功能提供了一种排除机制，用于跳过不需要管理的目录：</p>
<ul>
<li><p><strong>工作原理</strong>：当您指定了需要忽略的目录后，TransX
在扫描过程中遇到这些目录时将直接跳过，不会进入其内部进行任何文件检索和处理。</p></li>
<li><p><strong>典型应用场景</strong>：</p>
<ul>
<li>排除第三方依赖目录（如
<code>Pods</code>、<code>Carthage</code>、<code>Package Dependencies</code>）</li>
<li>跳过构建输出目录（如
<code>DerivedData</code>、<code>Build</code>）</li>
<li>忽略临时文件目录或测试数据目录</li>
<li>避免扫描已废弃但尚未删除的旧版本代码目录</li>
</ul></li>
<li><p><strong>性能优化</strong>：合理使用忽略目录功能不仅可以避免管理不必要的文件，还能显著提升扫描速度，特别是在包含大量第三方库的项目中。</p></li>
</ul>
<h3 id="配置完成">配置完成</h3>
<p>完成目录配置后，点击底部的"<strong>检索</strong>"按钮，TransX
将根据您的配置开始扫描 <code>.strings</code>
文件，并进入下一步的参数设置环节。</p>
<h2 id="2-设置解析参数">2 设置解析参数</h2>
<p><img src="./imgs/img4.png" /></p>
<p>解析参数配置是项目初始化的关键步骤，这些参数将直接影响 TransX
如何理解和处理您的 <code>.strings</code>
文件内容。本步骤提供了两个核心配置选项：</p>
<h3 id="1-基础语言base-language">1. 基础语言（Base Language）</h3>
<p>基础语言是多语言项目管理的核心概念，在 TransX 中扮演着双重角色：</p>
<h4 id="内容分组功能">内容分组功能</h4>
<p>基础语言对应的 <code>.strings</code>
文件承担着内容组织的重要职责。TransX 通过识别 Xcode 标准的 MARK
注释来实现分组管理：</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">// MARK: - 用户界面</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;button.login&quot;</span> <span class="op">=</span> <span class="st">&quot;登录&quot;</span><span class="op">;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;button.logout&quot;</span> <span class="op">=</span> <span class="st">&quot;登出&quot;</span><span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">// MARK: - 错误提示</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;error.network&quot;</span> <span class="op">=</span> <span class="st">&quot;网络连接失败&quot;</span><span class="op">;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;error.timeout&quot;</span> <span class="op">=</span> <span class="st">&quot;请求超时&quot;</span><span class="op">;</span></span></code></pre></div>
<p><strong>分组规则详解</strong>：</p>
<ul>
<li>当 TransX 检测到 <code>// MARK: - 分组名称</code>
标记时，会创建一个新的逻辑分组</li>
<li>该标记之后、下一个 MARK
标记之前的所有本地化字符串都归入当前分组</li>
<li>对于文件开头未定义任何 MARK 标记的内容，TransX
会自动将其归入"默认分组"（Default
Group），确保所有内容都有明确的归属</li>
<li>这种分组机制完全遵循 Xcode
的代码组织惯例，使本地化管理与项目代码结构保持一致</li>
</ul>
<p><strong>分组的实际价值</strong>：</p>
<ul>
<li>便于按功能模块查找和编辑相关的本地化内容</li>
<li>在大型项目中，通过分组可以快速定位特定功能的多语言文本</li>
<li>团队协作时，不同成员可以专注于各自负责模块的本地化工作</li>
</ul>
<h4 id="备注辅助功能">备注辅助功能</h4>
<p>基础语言在导出和翻译流程中提供重要的上下文支持：</p>
<ul>
<li><p><strong>翻译辅助</strong>：当导出本地化内容（如 CSV、JSON
格式）时，基础语言的文本会自动作为参考备注附加到其他语言项中。这对翻译人员至关重要，特别是在处理上下文依赖性强的短语时。</p></li>
<li><p><strong>多语言对照</strong>：在 TransX
的编辑界面中，基础语言内容始终可见，作为其他语言翻译的参照基准。即使开发者不熟悉某种目标语言，通过基础语言的对照也能判断翻译的准确性。</p></li>
<li><p><strong>版本追踪</strong>：基础语言通常作为文案的"源头"，所有本地化变更都基于基础语言进行。这使得内容变更追踪和版本管理更加清晰。</p></li>
</ul>
<p><strong>最佳实践建议</strong>：</p>
<blockquote>
<p>基础语言应该设置为团队最熟悉的语言，通常是开发者的母语或项目的主要市场语言。这样可以确保：</p>
<ul>
<li>文案表达最准确、最自然</li>
<li>分组命名清晰易懂</li>
<li>为其他语言翻译提供最可靠的参照</li>
</ul>
</blockquote>
<h3 id="2-去除空白字符whitespace-trimming">2. 去除空白字符（Whitespace
Trimming）</h3>
<p>空白字符处理是确保多语言内容一致性和可靠性的重要功能。</p>
<h4 id="空白字符的类型和影响">空白字符的类型和影响</h4>
<p><strong>可见空白字符</strong>（正常使用）：</p>
<ul>
<li>普通空格（Space，U+0020）</li>
<li>制表符（Tab，U+0009）</li>
<li>换行符（Line Feed，U+000A）</li>
</ul>
<p>这些字符在代码编辑器中可见或可通过格式化工具显示，是文本格式化的必要组成部分。</p>
<p><strong>不可见空白字符</strong>（潜在问题源）：</p>
<ul>
<li>零宽空格（Zero Width Space，U+200B）</li>
<li>不间断空格（Non-Breaking Space，U+00A0）</li>
<li>窄不间断空格（Narrow No-Break Space，U+202F）</li>
<li>全角空格（Ideographic Space，U+3000）</li>
<li>字节顺序标记（BOM，U+FEFF）</li>
<li>零宽连接符（Zero Width Joiner，U+200D）</li>
</ul>
<p><strong>实际问题案例</strong>：</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 案例1：零宽空格导致的字符串比较失败</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">key1</span> <span class="op">=</span> <span class="st">&quot;user.name&quot;</span>      <span class="co">// 正常字符串</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">key2</span> <span class="op">=</span> <span class="st">&quot;user​.name&quot;</span>      <span class="co">// 包含零宽空格（在 . 前）</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> key1 <span class="op">==</span> key2 <span class="op">{</span>           <span class="co">// 永远不会相等！</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 这段代码永远不会执行</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">// 案例2：不可见空格导致的 UI 异常</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;button.title&quot;</span> <span class="op">=</span> <span class="st">&quot;确认​​​&quot;</span><span class="op">;</span>   <span class="co">// 看起来正常，实际包含多个零宽空格</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">// 在 UI 上可能导致按钮文字位置偏移或尺寸计算错误</span></span></code></pre></div>
<p><strong>数据来源</strong>：
这些不可见字符可能通过多种途径进入代码：</p>
<ul>
<li>从网页或文档复制粘贴文本</li>
<li>使用某些文本编辑器或翻译工具</li>
<li>自动化工具或脚本生成的内容</li>
<li>第三方翻译服务返回的结果</li>
</ul>
<h4 id="transx-的处理机制">TransX 的处理机制</h4>
<p>启用"去除空白字符"功能后，TransX
将在以下时机自动检测和清理不可见空白字符：</p>
<ol type="1">
<li><strong>项目初始化时</strong>：自动扫描并清理所有
<code>.strings</code> 文件和相关常量文件中的隐藏空白字符</li>
<li><strong>内容新增时</strong>：当添加新的本地化条目时，实时检测并清理输入内容</li>
<li><strong>内容编辑时</strong>：在保存修改时自动处理，确保持久化的数据是干净的</li>
<li><strong>导入外部数据时</strong>：从 CSV、JSON
等外部格式导入内容时，自动进行清理</li>
</ol>
<p><strong>处理结果透明化</strong>：
所有空白字符清理操作都会在日志区域详细记录，包括：</p>
<ul>
<li>在哪个文件中发现了问题字符</li>
<li>具体清理了哪些类型的空白字符</li>
<li>清理的字符数量和位置</li>
<li>处理的时间戳</li>
</ul>
<p>这种透明的处理机制让您可以完全掌控数据清理过程，并在需要时进行审查。</p>
<h3 id="下一步选择">下一步选择</h3>
<p>完成参数配置后，您需要决定是否启用常量模式：</p>
<ul>
<li><p><strong>"不需要常量，直接进入"</strong>：TransX
将立即开始解析筛选到的 <code>.strings</code>
文件，完成后直接进入主应用界面。这种方式适合小型项目或快速查看本地化内容的场景。</p></li>
<li><p><strong>"需要常量，去设置"</strong>：进入常量配置步骤，设置代码常量的生成规则。<strong>强烈推荐用于生产环境项目</strong>，以获得类型安全和代码维护性的保障。</p></li>
</ul>
<h2 id="3-设置常量">3 设置常量</h2>
<p><img src="./imgs/img5.png" /></p>
<p>常量模式是 TransX 为 iOS/macOS
开发提供的一项核心功能，旨在通过类型安全的方式管理本地化字符串键值，从根本上解决直接使用字符串字面量带来的维护和安全问题。</p>
<h3 id="常量模式的必要性">常量模式的必要性</h3>
<p>在传统的 Xcode 本地化开发中，我们通常将本地化字符串存储在
<code>Localizable.strings</code> 文件中：</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Localizable.strings</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;com.app.user.login.button&quot;</span> <span class="op">=</span> <span class="st">&quot;Login&quot;</span><span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;com.app.user.logout.button&quot;</span> <span class="op">=</span> <span class="st">&quot;Logout&quot;</span><span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;com.app.settings.title&quot;</span> <span class="op">=</span> <span class="st">&quot;Settings&quot;</span><span class="op">;</span></span></code></pre></div>
<p>在代码中直接使用字符串键值进行本地化：</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 传统方式 - 直接使用字符串</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">loginText</span> <span class="op">=</span> NSLocalizedString<span class="op">(</span><span class="st">&quot;com.app.user.login.button&quot;</span><span class="op">,</span> comment<span class="op">:</span> <span class="st">&quot;&quot;</span><span class="op">)</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">settingsTitle</span> <span class="op">=</span> NSLocalizedString<span class="op">(</span><span class="st">&quot;com.app.settings.title&quot;</span><span class="op">,</span> comment<span class="op">:</span> <span class="st">&quot;&quot;</span><span class="op">)</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">// 或使用自定义的本地化宏</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">loginText</span> <span class="op">=</span> LL<span class="op">(</span><span class="st">&quot;com.app.user.login.button&quot;</span><span class="op">)</span></span></code></pre></div>
<p>这种方式存在多个严重问题：</p>
<h4 id="问题-1编译期无法检测拼写错误">问题
1：编译期无法检测拼写错误</h4>
<div class="sourceCode" id="cb5"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 正确的键</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">text1</span> <span class="op">=</span> LL<span class="op">(</span><span class="st">&quot;com.app.user.login.button&quot;</span><span class="op">)</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 拼写错误 - 编译器不会报错！</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">text2</span> <span class="op">=</span> LL<span class="op">(</span><span class="st">&quot;com.app.user.login.buton&quot;</span><span class="op">)</span>  <span class="co">// buton 拼写错误</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">text3</span> <span class="op">=</span> LL<span class="op">(</span><span class="st">&quot;com.app.user.longin.button&quot;</span><span class="op">)</span> <span class="co">// longin 拼写错误</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">// 这些错误只会在运行时显示空字符串或 key 本身</span></span></code></pre></div>
<p>在大型项目中，这类错误难以发现，往往要到 QA
测试或用户反馈时才会暴露。</p>
<h4 id="问题-2重构和维护困难">问题 2：重构和维护困难</h4>
<p>当需要重命名或重组本地化键值时：</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 假设这个 key 在 50 个文件中使用了 100 次</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;com.app.user.login.button&quot;</span> <span class="op">=</span> <span class="st">&quot;Login&quot;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 现在需要改为更清晰的命名</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;button.user.login&quot;</span> <span class="op">=</span> <span class="st">&quot;Login&quot;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">// 你需要：</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">// 1. 找到所有使用旧 key 的地方（全局搜索）</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">// 2. 逐一手动替换</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">// 3. 确保没有遗漏</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">// 4. 祈祷没有引入新的拼写错误</span></span></code></pre></div>
<p>这种维护工作耗时且容易出错。</p>
<h4 id="问题-3代码可读性差">问题 3：代码可读性差</h4>
<div class="sourceCode" id="cb7"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 看到这些代码，你能立即知道它们的用途吗？</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>titleLabel<span class="op">.</span>text <span class="op">=</span> LL<span class="op">(</span><span class="st">&quot;com.app.user.profile.edit.title&quot;</span><span class="op">)</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>button<span class="op">.</span>setTitle<span class="op">(</span>LL<span class="op">(</span><span class="st">&quot;com.app.user.profile.edit.save&quot;</span><span class="op">),</span> <span class="cf">for</span><span class="op">:</span> <span class="op">.</span>normal<span class="op">)</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>alertMessage <span class="op">=</span> LL<span class="op">(</span><span class="st">&quot;com.app.user.profile.edit.validation.error&quot;</span><span class="op">)</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">// 长字符串降低了代码的可读性</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">// 特别是在有多个本地化调用的代码块中</span></span></code></pre></div>
<h4 id="问题-4团队协作中的一致性问题">问题
4：团队协作中的一致性问题</h4>
<div class="sourceCode" id="cb8"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 开发者 A 使用：</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>LL<span class="op">(</span><span class="st">&quot;com.app.settings.title&quot;</span><span class="op">)</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 开发者 B 可能因为记忆错误使用：</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>LL<span class="op">(</span><span class="st">&quot;com.app.setting.title&quot;</span><span class="op">)</span>  <span class="co">// 少了 &#39;s&#39;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">// 或者：</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>LL<span class="op">(</span><span class="st">&quot;settings.title&quot;</span><span class="op">)</span>  <span class="co">// 使用了不同的命名约定</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">// 结果是多个相似但不同的 key，导致内容重复和管理混乱</span></span></code></pre></div>
<h3 id="常量模式的解决方案">常量模式的解决方案</h3>
<p>TransX 的常量模式通过自动生成类型安全的常量来解决这些问题：</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">// TransX 自动生成的常量文件（示例）</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">// LocalizationKeys.swift</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> LocalizationKeys <span class="op">{</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">struct</span> User <span class="op">{</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">struct</span> Login <span class="op">{</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>            <span class="kw">static</span> <span class="kw">let</span> <span class="va">button</span> <span class="op">=</span> <span class="st">&quot;com.app.user.login.button&quot;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>            <span class="kw">static</span> <span class="kw">let</span> <span class="va">title</span> <span class="op">=</span> <span class="st">&quot;com.app.user.login.title&quot;</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">struct</span> Logout <span class="op">{</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>            <span class="kw">static</span> <span class="kw">let</span> <span class="va">button</span> <span class="op">=</span> <span class="st">&quot;com.app.user.logout.button&quot;</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">struct</span> Settings <span class="op">{</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        <span class="kw">static</span> <span class="kw">let</span> <span class="va">title</span> <span class="op">=</span> <span class="st">&quot;com.app.settings.title&quot;</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>        <span class="kw">static</span> <span class="kw">let</span> <span class="va">description</span> <span class="op">=</span> <span class="st">&quot;com.app.settings.description&quot;</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="co">// 或者使用更简洁的命名（可配置）</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">lUserLoginButton</span> <span class="op">=</span> <span class="st">&quot;com.app.user.login.button&quot;</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">lUserLogoutButton</span> <span class="op">=</span> <span class="st">&quot;com.app.user.logout.button&quot;</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">lSettingsTitle</span> <span class="op">=</span> <span class="st">&quot;com.app.settings.title&quot;</span></span></code></pre></div>
<p>在代码中使用常量：</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 方式1：使用嵌套结构</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">loginText</span> <span class="op">=</span> LL<span class="op">(</span>LocalizationKeys<span class="op">.</span>User<span class="op">.</span>Login<span class="op">.</span>button<span class="op">)</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">settingsTitle</span> <span class="op">=</span> LL<span class="op">(</span>LocalizationKeys<span class="op">.</span>Settings<span class="op">.</span>title<span class="op">)</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">// 方式2：使用简洁常量</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">loginText</span> <span class="op">=</span> LL<span class="op">(</span>lUserLoginButton<span class="op">)</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">settingsTitle</span> <span class="op">=</span> LL<span class="op">(</span>lSettingsTitle<span class="op">)</span></span></code></pre></div>
<h3 id="常量模式的核心优势">常量模式的核心优势</h3>
<h4 id="1-编译期类型检查">1. 编译期类型检查</h4>
<div class="sourceCode" id="cb11"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">// ✅ 正确 - 编译通过</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">text</span> <span class="op">=</span> LL<span class="op">(</span>lUserLoginButton<span class="op">)</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">// ❌ 错误 - 编译失败，Xcode 会立即标红</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">text</span> <span class="op">=</span> LL<span class="op">(</span>lUserLoginButon<span class="op">)</span>  <span class="co">// 常量名拼写错误</span></span></code></pre></div>
<p>任何拼写错误都会被 Swift
编译器立即捕获，将运行时错误提前到编译期。</p>
<h4 id="2-自动代码补全">2. 自动代码补全</h4>
<div class="sourceCode" id="cb12"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 输入 &quot;lUser&quot;，Xcode 自动补全显示：</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">// - lUserLoginButton</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">// - lUserLoginTitle  </span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">// - lUserLogoutButton</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">// - lUserProfileTitle</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">// ...</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">// 无需记忆完整的 key 字符串</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co">// 避免查找 .strings 文件</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">// 大幅提升开发效率</span></span></code></pre></div>
<h4 id="3-安全重构">3. 安全重构</h4>
<div class="sourceCode" id="cb13"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 需要重命名？</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 使用 Xcode 的 &quot;Refactor -&gt; Rename&quot;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">// 所有引用该常量的地方会自动更新</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 完全不用担心遗漏或错误</span></span></code></pre></div>
<p>TransX 会同步更新 <code>.strings</code>
文件和常量文件，保证一致性。</p>
<h4 id="4-增强的代码可读性">4. 增强的代码可读性</h4>
<div class="sourceCode" id="cb14"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 对比：</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">// ❌ 使用字符串 - 需要猜测或查找才知道含义</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>titleLabel<span class="op">.</span>text <span class="op">=</span> LL<span class="op">(</span><span class="st">&quot;com.app.user.profile.edit.title&quot;</span><span class="op">)</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">// ✅ 使用常量 - 语义清晰</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>titleLabel<span class="op">.</span>text <span class="op">=</span> LL<span class="op">(</span>lUserProfileEditTitle<span class="op">)</span></span></code></pre></div>
<p>常量名通常比反向域名风格的 key 更具描述性和可读性。</p>
<h4 id="5-集中化管理">5. 集中化管理</h4>
<div class="sourceCode" id="cb15"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 所有本地化 key 定义在一个或几个常量文件中</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 团队成员可以快速浏览所有可用的本地化内容</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">// 避免重复定义相似的 key</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 便于制定和遵循命名规范</span></span></code></pre></div>
<h4 id="6-防止魔法字符串">6. 防止魔法字符串</h4>
<div class="sourceCode" id="cb16"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">// ❌ 魔法字符串散落在代码各处</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">updateUI</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    label<span class="op">.</span>text <span class="op">=</span> LL<span class="op">(</span><span class="st">&quot;com.app.welcome&quot;</span><span class="op">)</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    button<span class="op">.</span>setTitle<span class="op">(</span>LL<span class="op">(</span><span class="st">&quot;com.app.button.ok&quot;</span><span class="op">),</span> <span class="cf">for</span><span class="op">:</span> <span class="op">.</span>normal<span class="op">)</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co">// ✅ 使用常量，代码更专业更易维护</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="kw">func</span> <span class="fu">updateUI</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    label<span class="op">.</span>text <span class="op">=</span> LL<span class="op">(</span>lWelcomeMessage<span class="op">)</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    button<span class="op">.</span>setTitle<span class="op">(</span>LL<span class="op">(</span>lButtonOK<span class="op">),</span> <span class="cf">for</span><span class="op">:</span> <span class="op">.</span>normal<span class="op">)</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h4 id="7-团队协作保障">7. 团队协作保障</h4>
<div class="sourceCode" id="cb17"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 所有开发者使用相同的常量</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">// 不会因为记忆错误产生不同的 key</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">// 代码审查时更容易发现问题</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 新成员上手更快</span></span></code></pre></div>
<h3 id="常量配置页面详解">常量配置页面详解</h3>
<p>在这个配置页面中，TransX 会列出第一步扫描到的所有
<code>.strings</code> 文件，您可以为每个文件单独配置常量生成规则。</p>
<h4 id="配置选项-1常量文件路径">配置选项 1：常量文件路径</h4>
<p>为每个 <code>.strings</code> 文件指定对应的常量输出文件：</p>
<ul>
<li><p><strong>Objective-C 项目</strong>：可以指定 <code>.h</code> 和
<code>.m</code> 文件对</p>
<pre class="objc"><code>// LocalizationKeys.h
extern NSString * const kUserLoginButton;
extern NSString * const kUserLogoutButton;

// LocalizationKeys.m
NSString * const kUserLoginButton = @&quot;com.app.user.login.button&quot;;
NSString * const kUserLogoutButton = @&quot;com.app.user.logout.button&quot;;</code></pre></li>
<li><p><strong>Swift 项目</strong>：可以指定单个 <code>.swift</code>
文件</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">// LocalizationKeys.swift</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">lUserLoginButton</span> <span class="op">=</span> <span class="st">&quot;com.app.user.login.button&quot;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">lUserLogoutButton</span> <span class="op">=</span> <span class="st">&quot;com.app.user.logout.button&quot;</span></span></code></pre></div></li>
<li><p><strong>混合项目</strong>：可以同时生成两种格式，满足混编项目的需求</p></li>
</ul>
<p><strong>路径选择建议</strong>：</p>
<ul>
<li>将常量文件放在项目的 <code>Constants</code> 或
<code>Localization</code> 目录下</li>
<li>为不同的 <code>.strings</code>
文件生成独立的常量文件，保持代码结构清晰</li>
<li>确保常量文件已添加到 Xcode 项目中，以便编译器识别</li>
</ul>
<h4 id="配置选项-2常量样式constant-style">配置选项 2：常量样式（Constant
Style）</h4>
<p>TransX 提供三种常量生成样式，以适应不同的开发场景：</p>
<h5 id="normal标准字符串">Normal（标准字符串）</h5>
<p>生成标准的 <code>String</code> 类型常量：</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">lButtonLogin</span> <span class="op">=</span> <span class="st">&quot;button.login&quot;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">lErrorMessage</span> <span class="op">=</span> <span class="st">&quot;error.message&quot;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 使用方式</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">text</span> <span class="op">=</span> NSLocalizedString<span class="op">(</span>lButtonLogin<span class="op">,</span> comment<span class="op">:</span> <span class="st">&quot;&quot;</span><span class="op">)</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>label<span class="op">.</span>text <span class="op">=</span> LL<span class="op">(</span>lButtonLogin<span class="op">)</span></span></code></pre></div>
<p><strong>适用场景</strong>：</p>
<ul>
<li>通用场景，最灵活的方式</li>
<li>可以用于任何接受 <code>String</code> 参数的 API</li>
<li>兼容性最好</li>
</ul>
<h5 id="localizedstringkeyswiftui-专用">LocalizedStringKey（SwiftUI
专用）</h5>
<p>生成 <code>LocalizedStringKey</code> 类型常量，SwiftUI
的本地化专用类型：</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">lButtonLogin</span><span class="op">:</span> LocalizedStringKey <span class="op">=</span> <span class="st">&quot;button.login&quot;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">lWelcomeMessage</span><span class="op">:</span> LocalizedStringKey <span class="op">=</span> <span class="st">&quot;welcome.message&quot;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co">// SwiftUI 使用方式</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> ContentView<span class="op">:</span> <span class="dt">View</span> <span class="op">{</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> <span class="va">body</span><span class="op">:</span> some View <span class="op">{</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>        VStack <span class="op">{</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span>lButtonLogin<span class="op">)</span>  <span class="co">// 自动本地化</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>            Button<span class="op">(</span>lWelcomeMessage<span class="op">)</span> <span class="op">{</span> <span class="op">}</span>  <span class="co">// 自动本地化</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><strong>适用场景</strong>：</p>
<ul>
<li>SwiftUI 项目</li>
<li><code>Text</code>、<code>Button</code>、<code>Label</code> 等
SwiftUI 视图直接支持</li>
<li>利用 SwiftUI 的自动本地化机制</li>
<li>更简洁，无需显式调用 <code>NSLocalizedString</code></li>
</ul>
<p><strong>优势</strong>：</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">// ✅ 使用 LocalizedStringKey</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>Text<span class="op">(</span>lWelcomeMessage<span class="op">)</span>  <span class="co">// 简洁</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co">// vs</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">// ❌ 使用普通 String </span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>Text<span class="op">(</span>NSLocalizedString<span class="op">(</span>lWelcomeMessage<span class="op">,</span> comment<span class="op">:</span> <span class="st">&quot;&quot;</span><span class="op">))</span>  <span class="co">// 繁琐</span></span></code></pre></div>
<h5 id="staticstring编译时常量">StaticString（编译时常量）</h5>
<p>生成 <code>StaticString</code> 类型常量，编译时字符串常量：</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode swift"><code class="sourceCode swift"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">lButtonLogin</span><span class="op">:</span> StaticString <span class="op">=</span> <span class="st">&quot;button.login&quot;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> <span class="va">lLogTag</span><span class="op">:</span> StaticString <span class="op">=</span> <span class="st">&quot;app.network&quot;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co">// 使用方式</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>print<span class="op">(</span>lLogTag<span class="op">)</span>  <span class="co">// 用于日志</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>assert<span class="op">(</span>condition<span class="op">,</span> lErrorMessage<span class="op">)</span>  <span class="co">// 用于断言</span></span></code></pre></div>
<p><strong>适用场景</strong>：</p>
<ul>
<li>日志标签和调试信息</li>
<li>断言消息</li>
<li>性能敏感的场景（编译时常量，零运行时开销）</li>
<li>需要在编译时验证字符串的场景</li>
</ul>
<p><strong>特点</strong>：</p>
<ul>
<li>编译时就确定了值，不能在运行时改变</li>
<li>存储在只读内存区域</li>
<li>性能最优，但灵活性最低</li>
</ul>
<h4 id="最佳实践建议">最佳实践建议</h4>
<ol type="1">
<li><strong>UIKit 项目</strong>：使用 Normal 样式，获得最大灵活性</li>
<li><strong>SwiftUI 项目</strong>：优先使用 LocalizedStringKey
样式，简化代码</li>
<li><strong>混合项目</strong>：可以为不同模块生成不同样式的常量文件</li>
<li><strong>大型项目</strong>：按功能模块拆分多个常量文件，避免单文件过大</li>
<li><strong>命名规范</strong>：建立团队统一的常量命名约定（如
<code>l</code> 前缀表示 localization）</li>
</ol>
<h3 id="配置完成-1">配置完成</h3>
<p>完成常量配置后，点击底部按钮进入项目。TransX 将：</p>
<ol type="1">
<li>解析所有 <code>.strings</code> 文件</li>
<li>根据配置生成常量代码</li>
<li>将常量代码写入指定文件</li>
<li>启动主应用界面，开始本地化管理工作</li>
</ol>
<p>常量文件生成后，记得在 Xcode 中 <strong>Build</strong>
一次，让编译器识别新的常量定义。之后就可以在代码中享受类型安全和自动补全的便利了。</p>

</article>
